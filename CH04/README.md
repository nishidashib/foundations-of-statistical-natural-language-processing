## 概要
コーパスに関しての章であり、以下３点についてまとめてある
・プログラミングしていく際の指針
・書式に対する問題点や課題など
・マークアップについてどうするか
英語固有の問題や、古い情報を元に書かれている部分も多いような印象を持ちました。
その辺りを認識した上で読むのが正しいのかもしれません。


## 4.1 コーパス
コーパスの妥当性
・話言葉や詩作のエントロピーの算定には役に立たない
・時代による言語の変化についても対応はできない。
　→興味の対象に対して、代表的な標本であるかが重要。
　（本書はそこを議論しない）
　
## 4.1.3
#### テキストエディタ
テキストの平文がそのまま表示できるもの
#### 正規表現
精通しておくとこの分野でも役に立つよ
#### プログラミング言語
当時だとc/c++、parlなどがあがっている。
著者は当時prologを使用。
Python、Javaなどもいいかもしれないと言っている。
今だと、C++, Java, Scalaも利用することもあるが、
この辺りの分野はPyhonとかRとか？

#### プログラミング技法
語のコーディング
言語を扱うために効率的にするための手法の一つにハッシュ表を用いる方法がある。
直接頻度解析をかけて巨大なデータを作ろうとすると、当時はうまくいかなかった。

## 4.2 テキストの観察
テキストは生の形式かマークアップ（注釈付け）をされた言語

## 4.2.1 低いレベルの書式に関する問題
ＯＣＲ処理したテキストや図形、ヘッダーフッターなどはゴミとしてふるい落とす必要がある。

ブラウンコーパスは当初大文字だけで記載されていた。
基本的には区別しないで、固有名詞だけを区別できるとよいが、簡単な解決法はない。

## 4.2.2 トークン化：語とは何
テキストは初期段階でトークンに置き換える。
この際に句読点や特殊な記号や空白などをどう扱うかという問題が出てくる。
考え方のひとつとして図形的語（graphic word）kucera and francis(1967)がある。
「アルファベットの文字の連続からなる文字列で、どちらかの側に空白を伴うもの、ハイフンんとアポストロフィは含んで構わないが、その他の記号類は含まない。」
ただしこれも十分とは言えない部分もある。

#### ピリオド
・文末を表す
・省略を表す
という二つの機能があり、
類似する音や音節が連続するときに，片方が脱落する現象もあり、これを重音脱落（haplology）と言う。

アポストロフィと単一引用符
I'llやisn'tの短縮形はI willやis notなどであると考えられるため、2分割して考える。

ベンツリーバンクのようないくつかのコーパスでは
Ｓ→ＮＰ　ＶＰ
として考えられていた。

短縮形を含んだ文では'sやn'tなどの奇妙な語がデータに含まれるようになる。
the dog'sやthe child'sなどの場合、接語である場合があり、ニ語に分けるべきでないこともある。
どちらであるかは文脈によるため、簡単に分割する手段はない。

#### ハイフネーション
ハイフンは1語の場合と2語の場合がある。
・印刷の体裁を整えるため使われる。
改行の場合は一つだが文章の境界の場合は二つであり、単純に取り除いてつなげればよいわけではない。
・重音省略などでも使われる。
・e-maiやco-operateやA-1-plusなどの場合に語の構成要素の分割や母音の連続を分割する意味で使われる。（語彙的ハイフン（lexical hyphen）
・正しい語の集まりを表すために使う
この場合のハイフネーションの利用には一貫性がないのが問題

複数の「語」を表現する同一の形式
同音異義語の問題→詳しくは７章で

#### その他の言語における語分割
語分割（word segmentation)は中国語、日本語、タイ語や古代ギリシャ語などでは用いられず、語分割を前提としたアルゴリズムは役に立たない。
ドイツ語は複合名詞が一つの語として扱われる。
また、英語でも通例的ではないが、data baseをdatabaseとしたり、hard diskをharddiskとしたりするケースはある。

単語の切れ目を示していない空白文字
the New York-New Heaven railroad 
この場合のYork-Newを意味的単位として見てしまうと問題になる。

句動詞は一つの語とみなすことが好まれる状況が多い
LOBコーパスは複製タグ(ditto tag)とよばれる手段で特定の語に一つの品詞を持つことがタグ付けられている。

特定の意味分類の情報に対するさまざまなコーディング
電話番号などは国や回線によっていくつもの形式や表記がある。
情報抽出(information extraction)によって複数の表記に対して自動的な処理をするべきである。
情報抽出は10.6.2参照

#### 音声コーパス
音声コーパスを扱う場合には書き言葉よりも短縮形の表現が多く見られる。
発音のゆれや断片的文もあり、特有の困難な問題が生じてくる（ただし本書では扱わない）

## 4.2.3形態論
sit,sits,satなどの語形変化をどう扱うかという問題

同一と扱う時にはステミング(stemming)や見出し語化（lemmatization）が用いられる
ただしＩＲ分野では、ステミングを行っても古典的名ＩＲシステムの性能を向上させないことが言われている。
理由としては
・語幹にまとめることによって情報の意味が失われるケースがある（例：operating system）
・密接に関連した情報は塊(chunk)としてまとめておいたほうが有用に働くケースが多い（複数の語の組み合わせによって生じる表現などをカバーできる）
・英語は形態論的変化が少ない。

形態論的変化が多い言語では全語形辞書(full-form lexicon)を作成すると規模が大きくなりすぎるため、それが有効な場合もある。

とにかく派生語を取り除くという対応は負が大きい。
ただし対話的な文脈のＩＲで一定の形態素処理を行うことは有益である場合がある。


## 4.2.4文
文とは「'.','?','!'で終わっている何か」
ただし例外もある
・前後の一方もしくは両方に':',';','―'の区切り記号を伴うものはそこを区切りとして考えた方がよい
文章は入れ子構造担っている場合がある。この場合その構造を節と考えるが、直接引用のケースなどでうまく機能しない。
・北米などの標準的な組版は文末の句読点の後に引用符がおかれる。

・仮の文境界を'.','?','!'（場合により':',';','―'を含む）のすべての出現の後に置け
・もし引用符が後続してたら文境界ををその後に移動せよ
・以下の状況であれば、ピリオドにより仮の文境界をないものとせよ
　・普通文末にはこず、大文字で始まる固有名の既知の略語の後ろにつく場合（Prof.やus.など）
　・既知の略号に後続しており、その後が大文字で始める語出ない場合(etc. jr.など)
・小文字や既知の固有名が後続している場合には'?','!'による文境界がないものとせよ


## 4.3 データのマークアップ
平文のコーパスでもよいが、より多くのことを簡潔に学ぶために構造が明示されたコーパスが利用されてきた。
文章的マークアップをどうするかという話

## 4.3.1 マークアップの枠組み
黎明期は場当たり的に開発されていた
初期で重要なのがCOCOA形式でテキストにヘッダ情報を付与するために使われていた

一般的なマークアップ
・それぞれの語に品詞タグを付与するもの（それぞれの語の後ろにスラッシュやアンダーラインを奥く）
・ＳＧＭＬ（Standard Generalized Markup Language）文書の構造やデータの意味などを記述するマークアップ言語を定義することができる形式（HTML､XMLなどもコレの派生）

## 4.3.2 文法的タグ付け
分析で最初に行うのは文法的なタグを自動的に付与すること
有名なタグセット
・ブラウンタグセット
・ブリティッシュ・ナショナル・コーパスに用いられたタグセット（CLAWAS1～CLAWAS5、CLAWAS5はc5tag setともよばれる）
・ベンツリーバンクタグセット（ブラウンタグセットの簡易版）

#### タグセットの設計
２つの指針で作られている
・分類目標となるような特徴を有する
・分類予測のために有益な情報を有する

#### 品詞の扱い
品詞は統語的、形態論的背景など様々な背景を持ち、しばしば矛盾を起こすこともあり複雑。
予測目的では、近くの語の振る舞いをもっとも反映した形としたく分布に厳密に従ったタグが求められるが、実用では統語的、形態論的範疇を反映したタグが用いられてきた。(-ingで終わる英語の現在分詞は動名詞であり名詞であるが、ブラウンコーパスではＶＢＧ動詞　現在　現在分詞として扱われる)
理想的には語の分布の影響ごとに異なる語を付与したいが、ベンツリーバンクタグセットなどには現れない。

Charniakは助動詞のタグをＡＵＸタグとして付け替える手法をとった。
https://github.com/NLPbox/charniak-docker

## 4.4さらに学ぶために
省略

## 4.5
省略